<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Thêm Gravatar vào ứng dụng - Rails Girls</title>
    <!--[if lt IE 9]>
      <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <script src="/js/prefixfree.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
    <script src="/js/jquery.cookie.js"></script>
    <script src="/js/guides.js"></script>
    <link href="/css/bootstrap.css" rel="stylesheet" />
    <link href="/css/bootstrap-responsive.css" rel="stylesheet" />
    <link href="/css/code.css" rel="stylesheet" />
    <link href="/css/style.css" rel="stylesheet" />
    <link href="/favicon.png" rel="shortcut icon" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  </head>
  <body>
    <header>
      <div class="container">
        <a class="span3" href="/" id="logo">
          <img alt="Rails Girls Guides" src="/images/railsgirls-guides.png" />
        </a>
        <nav></nav>
      </div>
    </header>
    <article class="container">
      <div class="span10">
        <h1 id="thm-gravatar-vo-ng-dng">Thêm Gravatar vào ứng dụng</h1>

<p><em>Viết bởi Catherine Jones</em></p>

<p>Hướng dẫn này giả định rằng bạn đã tạo một ứng dụng Rails Girls tại <a href="http://guides.railsgirls.com/app/">hướng dẫn xây dựng ứng dụng</a> và thêm tính năng xác thực (authentication) sử dụng <a href="http://guides.railsgirls.com/devise/">Devise</a>.</p>

<h3 id="ch-">Chú ý</h3>

<p>Bạn cần có một địa chỉ email đã đăng kí với Gravatar để thực hiện theo hướng dẫn này. Nếu chưa có, bạn có thể đăng kí một tài khoản mới tại <a href="http://en.gravatar.com/">gravatar.com</a>.</p>

<h2 id="thm-gravtastic-gem"><em>1.</em> Thêm Gravtastic gem</h2>

<p>Mở <code>Gemfile</code> và dưới <code>devise</code> gem, thêm vào</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">gem</span> <span class="s1">&#39;gravtastic&#39;</span></code></pre></div>

<p>Trong terminal chạy</p>

<div class="highlight"><pre><code class="language-sh" data-lang="sh">bundle install</code></pre></div>

<p>Gravtastic gem sẽ được cài đặt. Hãy nhớ khởi động lại server.</p>

<h2 id="thit-lp-gravatar-cho-ng-dng"><em>2.</em> Thiết lập Gravatar cho ứng dụng</h2>

<p>Mở <code>app/models/user.rb</code> và thêm đoạn code sau</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="kp">include</span> <span class="no">Gravtastic</span>
<span class="n">gravtastic</span></code></pre></div>

<p>vào ngay sau dòng đầu tiên.</p>

<h2 id="cu-hnh-gravatar"><em>3.</em> Cấu hình Gravatar</h2>

<p>Mở <code>app/views/layouts/application.html.erb</code> và giữa</p>

<div class="highlight"><pre><code class="language-erb" data-lang="erb"><span class="cp">&lt;%</span> <span class="k">if</span> <span class="n">user_signed_in?</span> <span class="cp">%&gt;</span><span class="x"></span></code></pre></div>

<p>và</p>

<div class="highlight"><pre><code class="language-erb" data-lang="erb"><span class="cp">&lt;%</span> <span class="k">else</span> <span class="cp">%&gt;</span><span class="x"></span></code></pre></div>

<p>thêm</p>

<div class="highlight"><pre><code class="language-erb" data-lang="erb"><span class="cp">&lt;%=</span> <span class="n">image_tag</span> <span class="n">current_user</span><span class="o">.</span><span class="n">gravatar_url</span> <span class="cp">%&gt;</span><span class="x"></span></code></pre></div>

<p>Bây giờ bạn có thể mở ứng dụng bằng trình duyệt và đăng nhập với email (đã được liên kết với 1 Gravatar). Bạn sẽ thấy Gravatar của bạn hiển thị trong ứng dụng.</p>

      </div>
    </article>
    <footer>
      <p>
        This work is licensed under a
        <a href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-Share Alike 3.0 License</a>
      </p>
      <p>
        <a href="http://railsgirls.com">Rails Girls</a>
        &middot; Crafted with excitement from Helsinki, Finland &middot; Follow us on
        <a href="http://twitter.com/railsgirls">Twitter</a>
        and
        <a href="https://www.facebook.com/railsgirls">Facebook</a>
      </p>
    </footer>
    <script type="text/javascript">
      //<![CDATA[
        var _gaq = _gaq || [];
        _gaq.push(["_setAccount", "UA-19631067-3"]);
        _gaq.push(["_trackPageview"]);

        (function() {
          var ga = document.createElement("script"); ga.type = "text/javascript"; ga.async = true;
          ga.src = ("https:" == document.location.protocol ? "https://ssl" : "http://www") + ".google-analytics.com/ga.js";
          var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(ga, s);
        })();
      //]]>
    </script>
  </body>
</html>
