<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Put your app online with Shelly Cloud - Rails Girls</title>
    <!--[if lt IE 9]>
      <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <script src="/js/prefixfree.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
    <script src="/js/jquery.cookie.js"></script>
    <script src="/js/guides.js"></script>
    <link href="/css/bootstrap.css" rel="stylesheet" />
    <link href="/css/bootstrap-responsive.css" rel="stylesheet" />
    <link href="/css/code.css" rel="stylesheet" />
    <link href="/css/style.css" rel="stylesheet" />
    <link href="/favicon.png" rel="shortcut icon" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  </head>
  <body>
    <header>
      <div class="container">
        <a class="span3" href="/" id="logo">
          <img alt="Rails Girls Guides" src="/images/railsgirls-guides.png" />
        </a>
        <nav></nav>
      </div>
    </header>
    <article class="container">
      <div class="span10">
        <h1 id="put-your-app-online-with-shelly-cloud">Put your app online with Shelly Cloud</h1>
<p><em>Created by Kasia Jarmołkowicz, <a href="https://twitter.com/_idengager">@_idengager</a></em></p>

<p><a href="https://shellycloud.com/">Shelly Cloud</a> is a PaaS (Platform as a Service) hosting provider, dedicated for Ruby on Rails apps. New users get €20 worth of credit to run their applications, which is more than enough to show off your first Rails app for a couple of weeks.</p>

<p>This guide assumes you followed through with <a href="http://guides.railsgirls.com/app/">your first Rails app guide</a>. If you get stuck at any point in this tutorial, take a look at the <a href="https://shellycloud.com/documentation/quick_start">docs</a> or use one of our <a href="https://shellycloud.com/support">support channels</a>.</p>

<p><strong>Coach:</strong> For an overview of deploying to Shelly Cloud, look at the <a href="https://shellycloud.com/documentation/quick_start">Quick Start guide</a>.</p>

<h2 id="prepare-your-app-for-deployment">Prepare your app for deployment</h2>

<p>You need to change the database your app uses from SQLite to PostgreSQL and add a gem that ensures seamless deployment to Shelly Cloud. Replace the following line in your <code>Gemfile</code>:</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">gem</span> <span class="s1">&#39;sqlite3&#39;</span></code></pre></div>

<p>with:</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">group</span> <span class="ss">:development</span> <span class="k">do</span>
  <span class="n">gem</span> <span class="s1">&#39;sqlite3&#39;</span>
<span class="k">end</span>

<span class="n">group</span> <span class="ss">:production</span> <span class="k">do</span>
  <span class="n">gem</span> <span class="s1">&#39;pg&#39;</span>
  <span class="n">gem</span> <span class="s1">&#39;shelly-dependencies&#39;</span>
<span class="k">end</span></code></pre></div>

<p>and then run <code>bundle install</code>.</p>

<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="nv">$ </span>bundle install</code></pre></div>

<p><strong>Coach:</strong> Talk about relational databases and the differences between SQLite and PostgreSQL.</p>

<h2 id="initialize-your-git-repository">Initialize your git repository</h2>

<p>You should now commit the changes to your git repository. If you haven’t initialized one yet, take a look at this <a href="http://guides.railsgirls.com/github/">Github Rails Girls guide</a> or use the <a href="https://help.github.com/articles/set-up-git">Github’s docs</a> directly.</p>

<p>When your repo is all set, use <code>git commit</code> to save your changes.</p>

<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="nv">$ </span>git add .
<span class="nv">$ </span>git commit -m <span class="s1">&#39;Replace sqlite with postgres, add shelly-dependencies gem&#39;</span></code></pre></div>

<p><strong>Coach:</strong> Explain the importance of helpful commit messages.</p>

<h2 id="sign-up-for-shelly-cloud">Sign up for Shelly Cloud</h2>

<p>You can sign up for Shelly Cloud using the <a href="https://shellycloud.com/sign_up">sign-up form</a>. Clicking on the link in the confirmation email will complete your sign-up process. You can now install the <code>shelly</code> gem:</p>

<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="nv">$ </span>gem install shelly</code></pre></div>

<p>and type <code>shelly login</code> to log in:</p>

<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="nv">$ </span>shelly login
Email <span class="o">(</span>you@example.com - default<span class="o">)</span>: <span class="o">[</span>enter your email<span class="o">]</span>
Password: <span class="o">[</span>enter your password<span class="o">]</span>
Login successful
Uploading your public SSH key</code></pre></div>

<p><em>Tip</em>: The <code>shelly</code> gem will look for a public SSH key in your <code>~/.ssh</code> directory, choosing either a DSA key <code>id_dsa.pub</code> or a RSA key <code>id_rsa.pub</code>. If you’re not sure if you have a SSH key already, take a look at this helpful <a href="https://help.github.com/articles/generating-ssh-keys">Github article</a>.</p>

<h2 id="create-your-cloud">Create your cloud</h2>

<p>All the information needed for your app to work with Shelly Cloud will be stored in the <code>Cloudfile</code>, a little file that should be placed in your app main directory. We can generate a default <code>Cloudfile</code>, which will fit our needs perfectly, using the <code>shelly</code> gem.</p>

<p><em>Tip</em>: If you need a specific Ruby version or want to use a different database, check the <a href="https://shellycloud.com/documentation/cloudfile">Cloudfile documentation</a> to help you set it up.</p>

<p>You are now ready to create your cloud! Make sure you’re in your app directory, type <code>shelly add</code> and follow the instructions.</p>

<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="nv">$ </span><span class="nb">cd</span> ~/your-app
<span class="nv">$ </span>shelly add -c <span class="o">[</span>enter the name of your cloud<span class="o">]</span></code></pre></div>

<p>You should commit your <code>Cloudfile</code>, too, with an appropriate commit message.</p>

<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="nv">$ </span>git add Cloudfile
<span class="nv">$ </span>git commit -m <span class="s1">&#39;Add Cloudfile&#39;</span></code></pre></div>

<h2 id="push-to-production">Push to production</h2>

<p>You put your app in the cloud using <code>git push</code>.</p>

<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="nv">$ </span>git push shelly master
  ---&gt; Received push to cloud <span class="s1">&#39;your-cloud-name&#39;</span>
  ---&gt; Checking Gemfile
  ---&gt; Creating code package... <span class="k">done</span>.
  ---&gt; Push accepted
  ---&gt; Start your cloud using: <span class="sb">`</span>shelly start --cloud your-cloud-name<span class="sb">`</span></code></pre></div>

<p>You can now start your app.</p>

<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="nv">$ </span>shelly start --cloud your-cloud-name
Starting cloud your-cloud-name.
  ---&gt; Launching server app1 started
  ---&gt; Launching server app1 finished
  ---&gt; Configuration on server app1 started
  ---&gt; Configuration on server app1 finished
  ---&gt; Deployment on server app1 started
  ---&gt; Deployment on server app1 finished
Starting cloud successful</code></pre></div>

<p><em>Tip</em>: If you make changes to your app, you can just commit them and use <code>git push shelly master</code> to redeploy.</p>

<h2 id="celebrate">Celebrate!</h2>

<p>Your app is now live at <a href="http://your-cloud-name.shellyapp.com">http://your-cloud-name.shellyapp.com</a>. Share it with the world and keep coding!</p>

      </div>
    </article>
    <footer>
      <p>
        This work is licensed under a
        <a href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-Share Alike 3.0 License</a>
      </p>
      <p>
        <a href="http://railsgirls.com">Rails Girls</a>
        &middot; Crafted with excitement from Helsinki, Finland &middot; Follow us on
        <a href="http://twitter.com/railsgirls">Twitter</a>
        and
        <a href="https://www.facebook.com/railsgirls">Facebook</a>
      </p>
    </footer>
    <script type="text/javascript">
      //<![CDATA[
        var _gaq = _gaq || [];
        _gaq.push(["_setAccount", "UA-19631067-3"]);
        _gaq.push(["_trackPageview"]);

        (function() {
          var ga = document.createElement("script"); ga.type = "text/javascript"; ga.async = true;
          ga.src = ("https:" == document.location.protocol ? "https://ssl" : "http://www") + ".google-analytics.com/ga.js";
          var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(ga, s);
        })();
      //]]>
    </script>
  </body>
</html>
